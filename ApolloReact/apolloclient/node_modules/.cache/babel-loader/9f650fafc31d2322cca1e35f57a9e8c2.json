{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/danielpiga/Desktop/Apollo2 copy/ApolloReact/apolloclient/src/route/list/components/Scanner.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport config from \"./config.json\";\nimport Quagga from \"quagga\";\n\nconst Scanner = props => {\n  _s();\n\n  const {\n    onDetected\n  } = props;\n  useEffect(() => {\n    Quagga.init(config, err => {\n      if (err) {\n        console.log(err, \"error msg\");\n      }\n\n      Quagga.start();\n      return () => {\n        Quagga.stop();\n      };\n    }); //detecting boxes on stream\n\n    Quagga.onProcessed(result => {\n      var drawingCtx = Quagga.canvas.ctx.overlay,\n          drawingCanvas = Quagga.canvas.dom.overlay;\n\n      if (result) {\n        if (result.boxes) {\n          drawingCtx.clearRect(0, 0, Number(drawingCanvas.getAttribute(\"width\")), Number(drawingCanvas.getAttribute(\"height\")));\n          result.boxes.filter(function (box) {\n            return box !== result.box;\n          }).forEach(function (box) {\n            Quagga.ImageDebug.drawPath(box, {\n              x: 0,\n              y: 1\n            }, drawingCtx, {\n              color: \"green\",\n              lineWidth: 2\n            });\n          });\n        }\n\n        if (result.box) {\n          Quagga.ImageDebug.drawPath(result.box, {\n            x: 0,\n            y: 1\n          }, drawingCtx, {\n            color: \"#00F\",\n            lineWidth: 2\n          });\n        }\n\n        if (result.codeResult && result.codeResult.code) {\n          Quagga.ImageDebug.drawPath(result.line, {\n            x: \"x\",\n            y: \"y\"\n          }, drawingCtx, {\n            color: \"red\",\n            lineWidth: 3\n          });\n        }\n      }\n    });\n    Quagga.onDetected(detected);\n  }, []);\n\n  const detected = result => {\n    onDetected(result.codeResult.code);\n  };\n\n  return (\n    /*#__PURE__*/\n    // If you do not specify a target,\n    // QuaggaJS would look for an element that matches\n    // the CSS selector #interactive.viewport\n    _jsxDEV(\"div\", {\n      id: \"interactive\",\n      className: \"viewport\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)\n  );\n};\n\n_s(Scanner, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Scanner;\nexport default Scanner;\n\nvar _c;\n\n$RefreshReg$(_c, \"Scanner\");","map":{"version":3,"sources":["/Users/danielpiga/Desktop/Apollo2 copy/ApolloReact/apolloclient/src/route/list/components/Scanner.js"],"names":["React","useEffect","config","Quagga","Scanner","props","onDetected","init","err","console","log","start","stop","onProcessed","result","drawingCtx","canvas","ctx","overlay","drawingCanvas","dom","boxes","clearRect","Number","getAttribute","filter","box","forEach","ImageDebug","drawPath","x","y","color","lineWidth","codeResult","code","line","detected"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport config from \"./config.json\";\r\nimport Quagga from \"quagga\";\r\n\r\nconst Scanner = props => {\r\n  const { onDetected } = props;\r\n\r\n  useEffect(() => {\r\n    Quagga.init(config, err => {\r\n      if (err) {\r\n        console.log(err, \"error msg\");\r\n      }\r\n      Quagga.start();\r\n      return () => {\r\n        Quagga.stop()\r\n      }\r\n    });\r\n\r\n    //detecting boxes on stream\r\n    Quagga.onProcessed(result => {\r\n      var drawingCtx = Quagga.canvas.ctx.overlay,\r\n        drawingCanvas = Quagga.canvas.dom.overlay;\r\n\r\n      if (result) {\r\n        if (result.boxes) {\r\n          drawingCtx.clearRect(\r\n            0,\r\n            0,\r\n            Number(drawingCanvas.getAttribute(\"width\")),\r\n            Number(drawingCanvas.getAttribute(\"height\"))\r\n          );\r\n          result.boxes\r\n            .filter(function(box) {\r\n              return box !== result.box;\r\n            })\r\n            .forEach(function(box) {\r\n              Quagga.ImageDebug.drawPath(box, { x: 0, y: 1 }, drawingCtx, {\r\n                color: \"green\",\r\n                lineWidth: 2\r\n              });\r\n            });\r\n        }\r\n\r\n        if (result.box) {\r\n          Quagga.ImageDebug.drawPath(result.box, { x: 0, y: 1 }, drawingCtx, {\r\n            color: \"#00F\",\r\n            lineWidth: 2\r\n          });\r\n        }\r\n\r\n        if (result.codeResult && result.codeResult.code) {\r\n          Quagga.ImageDebug.drawPath(\r\n            result.line,\r\n            { x: \"x\", y: \"y\" },\r\n            drawingCtx,\r\n            { color: \"red\", lineWidth: 3 }\r\n          );\r\n        }\r\n      }\r\n    });\r\n\r\n    Quagga.onDetected(detected);\r\n  }, []);\r\n\r\n  const detected = result => {\r\n    onDetected(result.codeResult.code);\r\n  };\r\n\r\n  return (\r\n    // If you do not specify a target,\r\n    // QuaggaJS would look for an element that matches\r\n    // the CSS selector #interactive.viewport\r\n    <div id=\"interactive\" className=\"viewport\" />\r\n  );\r\n};\r\n\r\nexport default Scanner;\r\n"]},"metadata":{},"sourceType":"module"}