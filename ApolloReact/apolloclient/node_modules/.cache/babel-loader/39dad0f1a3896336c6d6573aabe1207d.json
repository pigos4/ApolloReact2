{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Quagga = require('quagga').default;\n\nexport default function List() {\n  var Quagga = window.Quagga;\n  var App = {\n    _scanner: null,\n    init: function () {\n      this.attachListeners();\n    },\n    activateScanner: function () {\n      var scanner = this.configureScanner('.overlay__content'),\n          onDetected = function (result) {\n        document.querySelector('input.isbn').value = result.codeResult.code;\n        stop();\n      }.bind(this),\n          stop = function () {\n        scanner.stop(); // should also clear all event-listeners?\n\n        scanner.removeEventListener('detected', onDetected);\n        this.hideOverlay();\n        this.attachListeners();\n      }.bind(this);\n\n      this.showOverlay(stop);\n      scanner.addEventListener('detected', onDetected).start();\n    },\n    attachListeners: function () {\n      var self = this,\n          button = document.querySelector('.input-field input + button.scan');\n      button.addEventListener(\"click\", function onClick(e) {\n        e.preventDefault();\n        button.removeEventListener(\"click\", onClick);\n        self.activateScanner();\n      });\n    },\n    showOverlay: function (cancelCb) {\n      if (!this._overlay) {\n        var content = document.createElement('div'),\n            closeButton = document.createElement('div');\n        closeButton.appendChild(document.createTextNode('X'));\n        content.className = 'overlay__content';\n        closeButton.className = 'overlay__close';\n        this._overlay = document.createElement('div');\n        this._overlay.className = 'overlay';\n\n        this._overlay.appendChild(content);\n\n        content.appendChild(closeButton);\n        closeButton.addEventListener('click', function closeClick() {\n          closeButton.removeEventListener('click', closeClick);\n          cancelCb();\n        });\n        document.body.appendChild(this._overlay);\n      } else {\n        var closeButton = document.querySelector('.overlay__close');\n        closeButton.addEventListener('click', function closeClick() {\n          closeButton.removeEventListener('click', closeClick);\n          cancelCb();\n        });\n      }\n\n      this._overlay.style.display = \"block\";\n    },\n    hideOverlay: function () {\n      if (this._overlay) {\n        this._overlay.style.display = \"none\";\n      }\n    },\n    configureScanner: function (selector) {\n      if (!this._scanner) {\n        this._scanner = Quagga.decoder({\n          readers: ['ean_reader']\n        }).locator({\n          patchSize: 'medium'\n        }).fromVideo({\n          target: selector,\n          constraints: {\n            width: 800,\n            height: 600,\n            facingMode: \"environment\"\n          }\n        });\n      }\n\n      return this._scanner;\n    }\n  };\n  App.init();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"ciao\"\n  }, void 0, false);\n}\n_c = List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"sources":["/Users/danielpiga/Desktop/Apollo2 copy/ApolloReact/apolloclient/src/route/List.js"],"names":["Quagga","require","default","List","window","App","_scanner","init","attachListeners","activateScanner","scanner","configureScanner","onDetected","result","document","querySelector","value","codeResult","code","stop","bind","removeEventListener","hideOverlay","showOverlay","addEventListener","start","self","button","onClick","e","preventDefault","cancelCb","_overlay","content","createElement","closeButton","appendChild","createTextNode","className","closeClick","body","style","display","selector","decoder","readers","locator","patchSize","fromVideo","target","constraints","width","height","facingMode"],"mappings":"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","sourcesContent":["const Quagga = require('quagga').default;\n\nexport default function List (){\n    var Quagga = window.Quagga;\n    var App = {\n        _scanner: null,\n        init: function() {\n            this.attachListeners();\n        },\n        activateScanner: function() {\n            var scanner = this.configureScanner('.overlay__content'),\n                onDetected = function (result) {\n                    document.querySelector('input.isbn').value = result.codeResult.code;\n                    stop();\n                }.bind(this),\n                stop = function() {\n                    scanner.stop();  // should also clear all event-listeners?\n                    scanner.removeEventListener('detected', onDetected);\n                    this.hideOverlay();\n                    this.attachListeners();\n                }.bind(this);\n    \n            this.showOverlay(stop);\n            scanner.addEventListener('detected', onDetected).start();\n        },\n        attachListeners: function() {\n            var self = this,\n                button = document.querySelector('.input-field input + button.scan');\n    \n            button.addEventListener(\"click\", function onClick(e) {\n                e.preventDefault();\n                button.removeEventListener(\"click\", onClick);\n                self.activateScanner();\n            });\n        },\n        showOverlay: function(cancelCb) {\n            if (!this._overlay) {\n                var content = document.createElement('div'),\n                    closeButton = document.createElement('div');\n    \n                closeButton.appendChild(document.createTextNode('X'));\n                content.className = 'overlay__content';\n                closeButton.className = 'overlay__close';\n                this._overlay = document.createElement('div');\n                this._overlay.className = 'overlay';\n                this._overlay.appendChild(content);\n                content.appendChild(closeButton);\n                closeButton.addEventListener('click', function closeClick() {\n                    closeButton.removeEventListener('click', closeClick);\n                    cancelCb();\n                });\n                document.body.appendChild(this._overlay);\n            } else {\n                var closeButton = document.querySelector('.overlay__close');\n                closeButton.addEventListener('click', function closeClick() {\n                    closeButton.removeEventListener('click', closeClick);\n                    cancelCb();\n                });\n            }\n            this._overlay.style.display = \"block\";\n        },\n        hideOverlay: function() {\n            if (this._overlay) {\n                this._overlay.style.display = \"none\";\n            }\n        },\n        configureScanner: function(selector) {\n            if (!this._scanner) {\n                this._scanner = Quagga\n                    .decoder({readers: ['ean_reader']})\n                    .locator({patchSize: 'medium'})\n                    .fromVideo({\n                        target: selector,\n                        constraints: {\n                            width: 800,\n                            height: 600,\n                            facingMode: \"environment\"\n                        }\n                    });\n            }\n            return this._scanner;\n        }\n    };\n    App.init();\n\n    return (<>ciao</>)\n}"]},"metadata":{},"sourceType":"module"}